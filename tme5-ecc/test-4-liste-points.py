from ecc import *


def egale(P1, P2, p):
    """Teste l'égalité entre deux points définis sur Fp."""
    if len(P1) != len(P2):
        return False
    elif len(P1) == 0:
        return True
    else:
        return P1[0] % p == P2[0] % p and P1[1] % p == P2[1] % p


def liste_egale(L1, L2, p):
    """Teste l'égalité entre deux liste de points définis sur Fp."""
    if len(L1) != len(L2):
        return False
    else:
        for P1 in L1:
            trouve = False
            for P2 in L2:
                if egale(P1, P2, p):
                    trouve = True
                    break
            if not trouve:
                return False
        return True


print("\n\n----------------------------------------------\n\n")

print("Test 4 : Liste des points")

print("---------------------")

print("Test liste des points")

p = 7
E = (p, 5, 3)
L = [(), (1, 4), (1, 3), (2, 0), (6, 2), (6, 5)]
assert liste_egale(L, liste_points(E), p)

E = (p, 5, 0)
L = [(), (0, 0), (2, 2), (2, 5), (3, 0), (4, 0), (6, 1), (6, 6)]
assert liste_egale(L, liste_points(E), p)

p = 19
E = (p, 17, 7)
L = [(), (0, 11), (0, 8), (1, 5), (1, 14), (2, 7), (2, 12), (3, 16), (3, 3), (4, 5), (4, 14), (8, 16), (8, 3), (11, 9), (11, 10), (12, 1), (12, 18), (14, 5), (14, 14), (16, 9), (16, 10)]
assert liste_egale(L, liste_points(E), p)

E = (p, 1, 0)
L = [(), (0, 0), (3, 7), (3, 12), (4, 7), (4, 12), (5, 4), (5, 15), (8, 11), (8, 8), (9, 4), (9, 15), (12, 7), (12, 12), (13, 5), (13, 14), (17, 16), (17, 3), (18, 6), (18, 13)]
assert liste_egale(L, liste_points(E), p)

p = 103
E = (p, 12, 93)
L = [(), (0, 14), (0, 89), (5, 81), (5, 22), (6, 81), (6, 22), (8, 17), (8, 86), (12, 76), (12, 27), (14, 92), (14, 11), (16, 63), (16, 40), (17, 36), (17, 67), (18, 8), (18, 95), (20, 14), (20, 89), (26, 33), (26, 70), (27, 18), (27, 85), (28, 66), (28, 37), (29, 25), (29, 78), (30, 63), (30, 40), (32, 64), (32, 39), (35, 98), (35, 5), (36, 25), (36, 78), (38, 25), (38, 78), (46, 50), (46, 53), (47, 55), (47, 48), (50, 41), (50, 62), (52, 100), (52, 3), (53, 16), (53, 87), (54, 93), (54, 10), (57, 63), (57, 40), (58, 60), (58, 43), (63, 83), (63, 20), (64, 56), (64, 47), (65, 30), (65, 73), (67, 30), (67, 73), (68, 26), (68, 77), (69, 97), (69, 6), (70, 4), (70, 99), (71, 2), (71, 101), (73, 50), (73, 53), (74, 30), (74, 73), (76, 58), (76, 45), (78, 66), (78, 37), (79, 68), (79, 35), (82, 46), (82, 57), (83, 14), (83, 89), (85, 15), (85, 88), (86, 34), (86, 69), (87, 50), (87, 53), (92, 81), (92, 22), (95, 0), (100, 66), (100, 37), (101, 79), (101, 24)]
assert liste_egale(L, liste_points(E), p)

print("Test liste des points : OK\n")

print("\n\n----------------------------------------------\n\n")
